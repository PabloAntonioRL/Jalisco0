<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <title>Guanajuato</title>
        <meta content="yes" name="apple-mobile-web-app-capable">
        <meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" name="viewport">
       
        
        <meta data-lcd-included-files="js/main.js" id="include_highlights_from">
        
         
        <!--script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script-->
        <script src="js/jQuery/jquery-1.12.4.js"></script>
        <script src="js/jQuery/1.12.1/jquery-ui.js"></script>
        
        <script src="../../proyecto/recursos/js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
        
        <link href="../../samples/template/css/sample-single.css" rel="stylesheet" type="text/css">
        
        <!--link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"-->
        <link href="css/jquery-ui.css" rel="stylesheet">
        
        <link href="css/demo.css" rel="stylesheet">
        
        <link href="../../proyecto/recursos/css/label.css" rel="stylesheet">
        <link href="../../proyecto/recursos/css/sliderCheckBox.css" rel="stylesheet">
        <link href="../../proyecto/recursos/css/logos.css" rel="stylesheet">
        <link href="../../proyecto/recursos/css/trajectories.css" rel="stylesheet">
        <link href="css/heatMapChart.css" rel="stylesheet">
        <link href="../../proyecto/recursos/css/timeChart.css" rel="stylesheet">
        
        <!--link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css"-->
        <link rel="stylesheet" href="css/jquery.timepicker.min.css">
         
        <script type="text/javascript" src="../../proyecto/recursos/js/AdvancedTimeSlider/lib/moment.min.js"></script>
        <script type="text/javascript" src="../../proyecto/recursos/js/AdvancedTimeSlider/lib/bootstrap/js/bootstrap.js"></script>
        <script type="text/javascript" src="../../proyecto/recursos/js/AdvancedTimeSlider/lib/bootstrap/js/bootstrap-datetimepicker.min.js"></script>
        
        
            <script type="text/javascript">
            $(function () {
                
               /* $('.timepicker').timepicker({
                    timeFormat: 'h:mm:ss',
                    interval: 1,
                    //defaultTime: '11',
                    //startTime: '10:00',
                    dynamic: false,
                    dropup: true,
                    scrollbar: true
                });*/
            });
            
            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent);
            //if(isMobile)
              //  Redireccionar();
            
            function Redireccionar(){
                location.href="indexm.html";
            }
            
        window.__lcdBasePath = '../../';
        window.__lcdMobileTemplate = false;
        function resetMapSize() {
            var ui = $('#topLine');
            var height = window.innerHeight - ui.outerHeight();
            //var height = window.innerHeight;
            $('#map').height(height);
        }
        $(function () {
            // Toggle info panel
            $("#showinfo").click(function () {
                $('#showinfo').toggleClass('active');
                $("#infopanel").fadeToggle();
            });
            // Add bootstrap to forms
            $("select").addClass("form-control");
            $("button").addClass("form-control");
            $("input").addClass("form-control");
            $("input[type=checkbox]").addClass("checkbox");
            $("input[type=radio]").addClass("radio");
            // Change map size on window resize
            resetMapSize();
            $(window).resize(resetMapSize);
            // Wire fullscreen button
            function requestFullscreen(elem) {
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.msRequestFullscreen) {
                    elem.msRequestFullscreen();
                } else if (elem.mozRequestFullScreen) {
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) {
                    elem.webkitRequestFullscreen();
                }
            }
            function cancelFullscreen() {
                if (document.cancelFullScreen) {
                    document.cancelFullScreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitCancelFullScreen) {
                    document.webkitCancelFullScreen();
                } else if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
            function isFullscreen() {
                return !!(document.fullscreenElement || // alternative standard method
                        document.mozFullScreenElement
                        || document.webkitFullscreenElement
                        || document.msFullscreenElement); // current working methods
            }
            $("#fullscreen").click(function () {
                var elem = document.body;
                if (!isFullscreen()) {
                    requestFullscreen(elem);
                } else {
                    cancelFullscreen();
                }
            });
            function toggleFullscreenButtonIcon() {
                $("#fullscreen-button").toggleClass("glyphicon-fullscreen", !isFullscreen());
                $("#fullscreen-button").toggleClass("glyphicon-resize-small", isFullscreen());
            }
            document.addEventListener("fullscreenchange", toggleFullscreenButtonIcon, false);
            document.addEventListener("mozfullscreenchange", toggleFullscreenButtonIcon, false);
            document.addEventListener("webkitfullscreenchange", toggleFullscreenButtonIcon, false);
            document.addEventListener("MSFullscreenChange", toggleFullscreenButtonIcon, false);
            
            
          });
          
        </script>
        <script type="text/javascript" src="https://www.google.com/jsapi"></script> 
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        
    </head>
    <body  >
        
        <!--div id="topLine">
            
        </div>
        <!--style="background-color: #cfc9c9 !important"-->
        <div id="map" >

            <div id="topleftbuttons">
                <a class="btn btn-default btn-map" id="showLeftPanel" role="button" title="Mas Información">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
                
                <a class="btn btn-default btn-map" id="showinfo" role="button" title="Mas Información">
                    <span class="glyphicon glyphicon-info-sign"></span>
                </a>
                <a class="btn btn-default btn-map" id="fullscreen" role="button" title="Fullscreen">
                    <span class="glyphicon glyphicon-fullscreen" id="fullscreen-button"></span>
                </a>
                <a class="btn btn-default btn-map" id="cambiarMapa" role="button" title="Cambiar Mapa">
                    <span class="glyphicon glyphicon-random"></span>
                </a>
                <a class="btn btn-default btn-map" id="Labels" role="button" title="Ocultar Etiquetas">
                    <span class="glyphicon glyphicon-tag"></span>
                </a>
                <!--a class="btn btn-default btn-map" id="verPanelDron" role="button" title="Ver Video Dron">
                    <span class="glyphicon glyphicon-facetime-video"></span>
                </a-->
            </div>
            <div id="onmap">
                <div id="logoLeon" style="display: none"></div>
                <div id="logoLeonB"></div>
                <!--span class="topcenter noselect label" id="timelabel">--:--</span-->
            </div>
            
            <!-- ===================================================================================
                                            Panel Balloon
             ==================================================================================== -->
            <div class="panel" id="balloonSensores" >
                <a class="btn btn-default btn-map closeButton" role="button" title="Cerrar" 
                   onclick='$("#balloonSensores").fadeOut()'>
                        <span class="glyphicon glyphicon-remove"></span>
                </a>
                <div class="panelContent">
                    <div id="sensorContent"></div>
                <div id="Graficas"></div>
                </div>
            </div>
            <!-- =====================================================================================================
                                        Panel de Movilidad
            ===================================================================================================== -->
            <div id="pTimeChartMovilidad" class="big panel draggable" >
                <a class="btn btn-default btn-map closeButton" role="button" title="Cerrar" 
                   onclick='$("#pTimeChartMovilidad").fadeOut()'>
                        <span class="glyphicon glyphicon-remove"></span>
                </a>
                <div class="panelContent nodraggable" style="height: calc(100% - 133px)">
                    <button id="verTablasMovilidad" style="position: absolute; right: 10px; width: 200px;">Ver Tablas</button>
                    <p><label>Gráficas Movilidad</label></p>
                    <div class="labelError"  id="labelMovilidad"></div>
                    <table>
                            <tr>
                                <td>Selecciona Nodo</td>
                                <td><div><select class='selectPanel form-control' id='selectorNodo'>
                                            <option value="0">1125</option><option value="1">1126</option>
                               </select></td>
                               <td><img id="loadingHistorialMovilidad0" src="../recursos/icons/loadingPage.gif" width="30" height="30"></td>
                            </tr><tr>
                                <td>Seleccionar Parametro</td>
                                <td><select class='selectPanel form-control' id='selectorParametroNodos'>
                                            <option value="0">Todos</option><option value="1">Total</option>
                                            <option value="2">Vehiculos</option><option value="3">Celulares</option>
                                            <option value="4">Otros</option>
                               </select></td>
                               <td></td>
                            </tr>
                        </table>
                    <table id="graficaMovilidad2">
                        
                        <tr><label>Tipo Dispositivo</label></tr>
                        <tr><div id="chartMovilidadHistorial0"></div></tr>
                    </table>
                    
                    <table>
                        <tr>
                            <td>Selecciona Vector</td>
                            <td><div><select class='selectPanel form-control' id='selectorVector'>
                                        <option value="0">952</option><option value="1">953</option>
                           </select></td>
                           <td><img id="loadingHistorialMovilidad1" src="../recursos/icons/loadingPage.gif" width="30" height="30"></tr></td>
                        </tr><tr>
                            <td>Selecciona Parámetro</td>
                                <td><div><select class='selectPanel form-control' id='selectorParametroVector'>
                                            <option value="0">Tiempo</option><option value="1">Velocidad</option>
                               </select></td>
                        </tr>
                    </table>
                    <table id="graficaMovilidad0">
                        <tr><label id="labelGraficaMTV">Tiempo (s)</label>
                        <tr><div id="chartMovilidadHistorial1"></div></tr>
                    </table>
                    
                </div>
                
                <div class="nodraggable">
                    <table style="position: absolute; left: 10px; bottom: 10px">
                        <tr>
                            <td><label>Fecha Inicio</label></td><td></td><td></td><td></td>
                        </tr>
                        <tr>
                            <td><input type="datetime" class="datepicker" id="fechaMovilidad1" placeholder='Fecha Inicio'></td>
                            
                            <td><select id="timeMovilidad1" class='selectPanel form-control'>
                                    <option value="0">00:00</option>
                                <option value="2">01:00</option><option value="2">02:00</option><option value="3">03:00</option>
                                <option value="4">04:00</option><option value="5">05:00</option><option value="6">06:00</option>
                                <option value="7">07:00</option><option value="8">08:00</option><option value="9">09:00</option>
                                <option value="10">10:00</option><option value="11">11:00</option><option value="12">12:00</option>
                                <option value="13">13:00</option><option value="14">14:00</option><option value="15">15:00</option>
                                <option value="16">16:00</option><option value="17">17:00</option><option value="18">18:00</option>
                                <option value="19">19:00</option><option value="20">20:00</option><option value="21">21:00</option>
                                <option value="22">22:00</option><option value="23">23:00</option>
                            </select></td>
                         </tr>
                    </table>
                    <table style="position: absolute; right: 10px; bottom: 10px">
                        <tr>
                            <td><label>Fecha Fin</label></td><td></td><td></td>
                        </tr><tr>
                            <td><input type="datetime" class="datepicker" id="fechaMovilidad2" placeholder='Fecha Termino'></td>
                            <td><select id="timeMovilidad2" class='selectPanel form-control'>
                                    <option value="0">00:00</option>
                                <option value="2">01:00</option><option value="2">02:00</option><option value="3">03:00</option>
                                <option value="4">04:00</option><option value="5">05:00</option><option value="6">06:00</option>
                                <option value="7">07:00</option><option value="8">08:00</option><option value="9">09:00</option>
                                <option value="10">10:00</option><option value="11">11:00</option><option value="12">12:00</option>
                                <option value="13">13:00</option><option value="14">14:00</option><option value="15">15:00</option>
                                <option value="16">16:00</option><option value="17">17:00</option><option value="18">18:00</option>
                                <option value="19">19:00</option><option value="20">20:00</option><option value="21">21:00</option>
                                <option value="22">22:00</option><option value="23">23:00</option>
                            </select></td>
                        </tr>
                    </table>
                </div>
            </div>
            <!-- =====================================================================================================
                                        Panel de Movilidad
            ===================================================================================================== -->
            <div id="pTimeMovilidadTimeslider" class="panelTime">
                <!--a class="btn btn-default btn-map closeButton" role="button" title="Cerrar" 
                   onclick='$("#pTimeMovilidadTimeslider").fadeOut()'>
                        <span class="glyphicon glyphicon-remove"></span>
                </a-->
                <label>Historial de niveles de servicio</label>
                <table>
                    <tr>
                        <td><button id="verTablaNiveles">Ver tabla</button></td>
                        <td><img id="loadingNiveles" src="../recursos/icons/loadingPage.gif" width="30" height="30"></td>
                        <td>Seleccionar tramos</td>
                        <td><div><select class='selectPanel form-control' id='nivelesVectores'>
                                <option value="0">Todos</option>
                            </select></td>
                    </tr>
                    
                </table>
                </table>
                    <table style="position: absolute; left: 10px; bottom: 10px; width: 98%">
                        <tr>
                            <td><label>Fecha Inicio</label></td>
                            <td></td><td></td>
                            <td><label id="labelTime">--:--</label></td>
                                
                            <td><label>Fecha Fin</label>
                                
                        </tr>
                        <tr>
                            <td><input type="datetime" class="datepicker" id="fechaSimulacion1" placeholder='Fecha Inicio'></td>
                            
                            <td><select id="timeSimulacion1" class='selectPanel form-control'>
                                    <option value="0">00:00</option>
                                <option value="2">01:00</option><option value="2">02:00</option><option value="3">03:00</option>
                                <option value="4">04:00</option><option value="5">05:00</option><option value="6">06:00</option>
                                <option value="7">07:00</option><option value="8">08:00</option><option value="9">09:00</option>
                                <option value="10">10:00</option><option value="11">11:00</option><option value="12">12:00</option>
                                <option value="13">13:00</option><option value="14">14:00</option><option value="15">15:00</option>
                                <option value="16">16:00</option><option value="17">17:00</option><option value="18">18:00</option>
                                <option value="19">19:00</option><option value="20">20:00</option><option value="21">21:00</option>
                                <option value="22">22:00</option><option value="23">23:00</option>
                            </select></td>
                            
                            <td>
                            <a class="btn btn-block btn-default" id="playtime" role="button" title="Comenzar/detener simulacion">
                                <span class="glyphicon glyphicon-play"></span>
                            </a></td>
                            <td style="width:45%">
                                <div id="timeChart"></div>
                            </td>
                            
                            <td><input type="datetime" class="datepicker" id="fechaSimulacion2" placeholder='Fecha Termino'></td>
                            <td><select id="timeSimulacion2" class='selectPanel form-control'>
                                    <option value="0">00:00</option>
                                <option value="2">01:00</option><option value="2">02:00</option><option value="3">03:00</option>
                                <option value="4">04:00</option><option value="5">05:00</option><option value="6">06:00</option>
                                <option value="7">07:00</option><option value="8">08:00</option><option value="9">09:00</option>
                                <option value="10">10:00</option><option value="11">11:00</option><option value="12">12:00</option>
                                <option value="13">13:00</option><option value="14">14:00</option><option value="15">15:00</option>
                                <option value="16">16:00</option><option value="17">17:00</option><option value="18">18:00</option>
                                <option value="19">19:00</option><option value="20">20:00</option><option value="21">21:00</option>
                                <option value="22">22:00</option><option value="23">23:00</option>
                            </select></td>
                         </tr>
                    </table>
                
            </div>
            <!-- =====================================================================================================
                                        Panel Tablas
            ===================================================================================================== -->
            <div id="panelTablas" class="panel big draggable">
                <a class="btn btn-default btn-map closeButton" role="button" title="Cerrar" 
                       onclick=' $("#panelTablas").fadeOut()'>
                            <span class="glyphicon glyphicon-remove"></span>
                </a>
                <div class="panelContent nodraggable">
                    <table>
                        <tr>
                        <a class="btn btn-default btn-map" id="descargarTabla1" role="button" title="Descargar tabla a Excel">
                            <span class="glyphicon glyphicon-download-alt"></span>
                        </a>&nbsp;
                        <label id="LabelTabla1"> TablaCompleta</label></tr>
                        <tr><div id="tablaCompleta1" class="bigTable"></div></tr>
                    </table>
                    <div id="descargarGraficas">
                        <p><label>Descargar gráficas como imagenes</label></p>
                        <div id="graficaImagenM1"></div>
                        <div id="graficaImagenM2"></div>
                    </div>
                </div>
            </div>
            
            <div id="infoPanel">
                <div class="panelContent">
                    <div id="infoAmbiental">
                        <h1 id="userType">Movilidad</h1>
                        <p><label>Sub sistema de Movilidad<label></p>
                        <p>Listado de colores</p>
                        <p>Verde: Nivel de trafico bueno</p>
                        <p>Amarillo: Nivel de trafico regular</p>
                        <p>Rojo: Nivel de trafico malo</p>
                        <p>Gris: Sin informacion sobre el nivel de trafico</p>
                    </div>   
                    <p>Version 0.5.12</p>
                </div>
            </div>
         <!-- Fin del Map -->
        
          <!-- =====================================================================================================
                                        Left Panel
            ===================================================================================================== -->
        <div class="leftPanel" id="panelIzquierdo">
           
            <!-- =====================================================================================================
                                            Movilidad
                ===================================================================================================== -->
            <div class="top panelContent" id="LPMovilidad">
                <label>Movilidad</label>
                <table>
                    <tr>
                        <td width="120">Sensores</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="cSensoresMovilidad" checked>
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td width="120">Tramo</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="cSensoresMovilidadVectores" checked>
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td width="120">Matriz origen destino</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="cSensoresMovilidadMatriz">
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td width="120">Calles</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="capaCalles" checked>
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td width="120">Dispersión</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="selectorCirculos" checked>
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td width="120">Trafico historico</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="mostrarSimulacion">
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr style="display: none">
                        <td width="120">Matriz historico</td> 
                        <td><label class="switch">
                                    <input type="checkbox" id="mostrarMatrizS">
                                    <span class="slider"></span>
                                </label>
                        </td>
                    </tr><tr>
                        <td>Matriz</td>
                        <td><div><select class='selectPanel form-control' id='tipoMatriz'>
                                <option value="from">Origen - Destino</option><option value="to">Destino - Origen</option>
                            </select></td>
                    </tr>
                </table>
                <button onclick='$("#pTimeChartMovilidad").fadeIn()' id="mostrarHistorialMovilidad" style="width: 100%">Histórico </button>
                
                <hr align="left" noshade="noshade" size="2" width="95%" style="color: #bcdb28;"/>
                <label>Niveles de servicio de tráfico</label>
                <div id="tablaNivelesServicio"></div>
                
                <hr align="left" noshade="noshade" size="2" width="95%" style="color: #bcdb28;"/>
                <table>
                    <tr>
                        <td>Seleccionar ruta</td>
                        <td><div><select class='selectPanel form-control' id='selectorRID'>
                                <option value="0">315</option><option value="1">316</option>
                            </select></td>
                    </tr><tr>
                        <td>Seleccionar tipo</td>
                        <td><div><select class='selectPanel form-control' id='movilidadParametroTR'>
                                <option value="0">Tiempo</option><option value="1">Velocidad</option>
                            </select></td>
                        </tr><tr>
                        <td>Seleccionar tramo</td>
                        <td><div><select class='selectPanel form-control' id='selectorTramo'>
                                <option value="0">315</option><option value="1">316</option>
                            </select></td>
                    </tr><tr>
                            <td><img id="loadingMovilidadTR" src="../recursos/icons/loadingPage.gif" width="30" height="30"></td>
                        </tr>
                </table>
                <a class="btn btn-default btn-map" role="button" title="Nueva ventana" 
                        id="ballonChartMovilidad"> <span class="glyphicon glyphicon-new-window"></span>
                    </a>
                <label>Gráfica Tiempo Real</label>
                <div id="graficaMovilidadTR"></div>
                
                <table>
                    <tr>Seleccionar Origen:</tr>
                    <td><div><select class='selectPanel form-control' id='vectoresMatriz'>
                                <option value="0">Todos</option><option value="2">entrando</option>
                            </select></td>
                </table>
                <input id="Densidad" max="10" min="1" step="0.1" type="range" value="1">
                <!--input id="AlturaCurvas" max="3" min="0.1" step="0.1" type="range" value="1"-->
            </div>
            
        </div> <!-- Fin de panel Left -->
                            
            
            <div id="ballonnChartMovilidad" class="draggable panel2" style="width: 400px; min-width: 300px; min-height: 300px;">
                <a class="btn btn-default btn-map closeButton" role="button" title="Cerrar" 
                     id="cerrarBalloonChartMovilidad"> <span class="glyphicon glyphicon-remove"></span>
                </a>
                <div class="panelContent2 nodraggable">
                    <div id="chartBMovilidad"></div>
                </div>
            </div>
        </div> <!-- Fin de Map -->
        <script src="../../samples/template/init.js" type="text/javascript"></script>
        <script src="../../samples/lib/Promise.js" type="text/javascript"></script>
        <script src="../../samples/lib/requirejs/require-2.3.5.js" type="text/javascript"></script>
        <script data-dojo-config="async: 1" src="js/run.js" type="text/javascript"></script>
    </body>    
    
    

</html>